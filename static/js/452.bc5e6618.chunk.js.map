{"version":3,"file":"static/js/452.bc5e6618.chunk.js","mappings":"2QAEaA,EAAgB,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QACvC,OACE,+BACE,SAACC,EAAA,EAAD,CAAaF,QAASA,EAASG,KAAK,KAAKF,QAASA,KAGvD,E,6BCLYG,GAAoBC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,CAAH,2EAGR,SAAAE,GAAK,OACvBA,EAAMC,MAAMC,UACRF,EAAMC,MAAME,OAAOC,YACnBJ,EAAMC,MAAME,OAAOE,SAHA,IAMdC,EAAsBR,EAAAA,GAAAA,QAAH,mRAenBS,EAAaT,EAAAA,GAAAA,EAAH,wQASZ,SAAAE,GAAK,OACZA,EAAMC,MAAMC,UACRF,EAAMC,MAAME,OAAOE,UACnBL,EAAMC,MAAME,OAAOK,QAHX,I,wCC0DhB,EAjFsB,WACpB,OAAsCC,EAAAA,EAAAA,UAAS,GAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAA0BN,EAAAA,EAAAA,YAA1B,eAAOO,EAAP,KAAcC,EAAd,KACA,GAA0BR,EAAAA,EAAAA,YAA1B,eAAOS,EAAP,KAAcC,EAAd,KACA,GAA8BV,EAAAA,EAAAA,UAAS,IAAvC,eAAOhB,EAAP,KAAgB2B,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,mCAAG,iGACtBT,GAAa,GADS,UAEHU,EAAAA,EAAAA,IAAiBb,GAFd,OAEhBc,EAFgB,OAGtBX,GAAa,GACK,eAAdW,EAAKC,MACPV,GAAW,GAGPW,EAAaF,EAAKR,MACxBC,EAASS,GAEHR,EAAQM,EAAKN,MACnBC,EAASD,GAEHzB,EAAU+B,EAAKA,KACrBJ,EAAW3B,GAfW,4CAAH,qDAkBrB6B,GACD,GAAE,CAACZ,IAEJ,IAAMiB,EAAaC,KAAKC,KAAKb,EAAQE,GAerC,OACE,UAACrB,EAAD,CAAmBiC,GAAG,YAAtB,WACE,SAACC,EAAA,EAAD,CAAWC,KAAK,eACfpB,IAAa,SAACqB,EAAA,EAAD,IACbnB,GACC,SAACoB,EAAA,EAAD,KAEA,UAAC5B,EAAD,YACIM,IACA,SAACpB,EAAD,CACEC,QAASA,EACTC,QApBoB,SAAAoC,IAC9BK,EAAAA,EAAAA,IAAiBL,GACjBV,EAAW3B,EAAQ2C,QAAO,SAAAC,GAAM,OAAIA,EAAOC,MAAQR,CAAnB,KAET,IAAnBrC,EAAQ8C,QAA+B,IAAfZ,GAC1BhB,GAAe,SAAA6B,GAAQ,OAAIA,EAAW,CAAf,GAE1B,KAgBe,OAAP/C,QAAO,IAAPA,OAAA,EAAAA,EAAS8C,QAAS,IACjB,SAACE,EAAA,EAAD,CACEd,WAAYA,EACZjB,YAAaA,EACbhB,QA/BwB,SAAAgD,GAClC/B,EAAe+B,EAChB,EA8BWC,SAAS,cAGZhB,GAAc,GAAwB,IAAnBlC,EAAQ8C,SAC1B,iCACE,SAAChC,EAAD,0CACA,SAACA,EAAD,kFASb,C","sources":["components/MyRecipesPageComponents/MyRecipesList/MyRecipesList.jsx","pages/MyRecipesPage/MyRecipesPage.styled.js","pages/MyRecipesPage/MyRecipesPage.jsx"],"sourcesContent":["import { RecipesList } from 'components/universalComponents/RecipesList/RecipesList';\n\nexport const MyRecipesList = ({ recipes, onClick }) => {\n  return (\n    <>\n      <RecipesList recipes={recipes} type=\"my\" onClick={onClick} />\n    </>\n  );\n};\n","import styled from 'styled-components';\nimport { Container } from '../../components/universalComponents/Container/Container.styled';\n\nexport const MyRecipeContainer = styled(Container)`\n  position: relative;\n\n  background-color: ${props =>\n    props.theme.darkTheme\n      ? props.theme.colors.bgdarkTheme\n      : props.theme.colors.textWhite};\n`;\n\nexport const RecipeListContainer = styled.section`\n  padding-top: 50px;\n  padding-bottom: 100px;\n  text-align: center;\n\n  @media screen and (min-width: 768px) {\n    padding-top: 100px;\n    padding-bottom: 200px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    padding-bottom: 100px;\n  }\n`;\n\nexport const StyledText = styled.p`\n  font-family: PoppinsMedium;\n\n  font-size: 14px;\n  line-height: 1.29;\n\n  text-align: center;\n  letter-spacing: -0.02em;\n\n  color: ${props =>\n    props.theme.darkTheme\n      ? props.theme.colors.textWhite\n      : props.theme.colors.textDark};\n\n  @media screen and (min-width: 768px) {\n    font-size: 18px;\n    line-height: 1.33;\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { MainTitle } from 'components/universalComponents/MainTitle/MainTitle';\nimport { MyRecipesList } from 'components/MyRecipesPageComponents/MyRecipesList/MyRecipesList';\nimport {\n  MyRecipeContainer,\n  RecipeListContainer,\n  StyledText,\n} from './MyRecipesPage.styled';\nimport { Pagination } from 'components/universalComponents/Pagination/Pagination';\nimport { deleteUserRecipe, fetchUserRecipes } from 'servicesApi/api';\nimport { Loader } from 'components/universalComponents/Loader/Loader';\nimport { Error } from 'components/MyRecipesPageComponents/Error';\n\nconst MyRecipesPage = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [count, setCount] = useState();\n  const [limit, setLimit] = useState();\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    const fetchOwnRecipes = async () => {\n      setIsLoading(true);\n      const data = await fetchUserRecipes(currentPage);\n      setIsLoading(false);\n      if (data.name === 'AxiosError') {\n        setIsError(true);\n      }\n\n      const totalCount = data.count;\n      setCount(totalCount);\n\n      const limit = data.limit;\n      setLimit(limit);\n\n      const recipes = data.data;\n      setRecipes(recipes);\n    };\n\n    fetchOwnRecipes();\n  }, [currentPage]);\n\n  const totalPages = Math.ceil(count / limit);\n\n  const handleClickPaginationButton = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n\n  const handleClickDeleteButton = id => {\n    deleteUserRecipe(id);\n    setRecipes(recipes.filter(recipe => recipe._id !== id));\n\n    if (recipes.length === 1 && totalPages !== 1) {\n      setCurrentPage(prevPage => prevPage - 1);\n    }\n  };\n\n  return (\n    <MyRecipeContainer id=\"container\">\n      <MainTitle text=\"My recipes\" />\n      {isLoading && <Loader />}\n      {isError ? (\n        <Error />\n      ) : (\n        <RecipeListContainer>\n          {!isLoading && (\n            <MyRecipesList\n              recipes={recipes}\n              onClick={handleClickDeleteButton}\n            />\n          )}\n          {recipes?.length > 0 && (\n            <Pagination\n              totalPages={totalPages}\n              currentPage={currentPage}\n              onClick={handleClickPaginationButton}\n              scrollId=\"container\"\n            />\n          )}\n          {totalPages <= 1 && recipes.length === 0 && (\n            <>\n              <StyledText>You don't have any recipe.</StyledText>\n              <StyledText>\n                Please, go to the \"Add recipes\"page and save your recipe :)\n              </StyledText>\n            </>\n          )}\n        </RecipeListContainer>\n      )}\n    </MyRecipeContainer>\n  );\n};\n\nexport default MyRecipesPage;\n"],"names":["MyRecipesList","recipes","onClick","RecipesList","type","MyRecipeContainer","styled","Container","props","theme","darkTheme","colors","bgdarkTheme","textWhite","RecipeListContainer","StyledText","textDark","useState","currentPage","setCurrentPage","isLoading","setIsLoading","isError","setIsError","count","setCount","limit","setLimit","setRecipes","useEffect","fetchOwnRecipes","fetchUserRecipes","data","name","totalCount","totalPages","Math","ceil","id","MainTitle","text","Loader","Error","deleteUserRecipe","filter","recipe","_id","length","prevPage","Pagination","pageNumber","scrollId"],"sourceRoot":""}